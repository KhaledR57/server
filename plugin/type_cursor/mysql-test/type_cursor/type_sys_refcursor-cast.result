#
# MDEV-20034 Add support for the pre-defined weak SYS_REFCURSOR
#
#
# Type cast to other data types
#
BEGIN NOT ATOMIC
DECLARE c0 SYS_REFCURSOR;
SELECT CAST(c0 AS SIGNED);
END;
$$
ERROR HY000: Illegal parameter data type sys_refcursor for operation 'cast_as_signed'
BEGIN NOT ATOMIC
DECLARE c0 SYS_REFCURSOR;
SELECT CAST(c0 AS UNSIGNED);
END;
$$
ERROR HY000: Illegal parameter data type sys_refcursor for operation 'cast_as_unsigned'
BEGIN NOT ATOMIC
DECLARE c0 SYS_REFCURSOR;
SELECT CAST(c0 AS DOUBLE);
END;
$$
ERROR HY000: Illegal parameter data type sys_refcursor for operation 'double_typecast'
BEGIN NOT ATOMIC
DECLARE c0 SYS_REFCURSOR;
SELECT CAST(c0 AS FLOAT);
END;
$$
ERROR HY000: Illegal parameter data type sys_refcursor for operation 'float_typecast'
BEGIN NOT ATOMIC
DECLARE c0 SYS_REFCURSOR;
SELECT CAST(c0 AS DECIMAL(10,0));
END;
$$
ERROR HY000: Illegal parameter data type sys_refcursor for operation 'decimal_typecast'
BEGIN NOT ATOMIC
DECLARE c0 SYS_REFCURSOR;
SELECT CAST(c0 AS CHAR);
END;
$$
ERROR HY000: Illegal parameter data type sys_refcursor for operation 'cast_as_char'
BEGIN NOT ATOMIC
DECLARE c0 SYS_REFCURSOR;
SELECT CAST(c0 AS TIME);
END;
$$
ERROR HY000: Illegal parameter data type sys_refcursor for operation 'cast_as_time'
BEGIN NOT ATOMIC
DECLARE c0 SYS_REFCURSOR;
SELECT CAST(c0 AS DATE);
END;
$$
ERROR HY000: Illegal parameter data type sys_refcursor for operation 'cast_as_date'
BEGIN NOT ATOMIC
DECLARE c0 SYS_REFCURSOR;
SELECT CAST(c0 AS DATETIME);
END;
$$
ERROR HY000: Illegal parameter data type sys_refcursor for operation 'cast_as_datetime'
#
# Type cast from other data types
#
BEGIN NOT ATOMIC
DECLARE a INT;
SELECT CAST(a AS SYS_REFCURSOR);
END;
$$
ERROR HY000: Operator does not exist: 'CAST(expr AS sys_refcursor)'
BEGIN NOT ATOMIC
DECLARE a DOUBLE;
SELECT CAST(a AS SYS_REFCURSOR);
END;
$$
ERROR HY000: Operator does not exist: 'CAST(expr AS sys_refcursor)'
BEGIN NOT ATOMIC
DECLARE a FLOAT;
SELECT CAST(a AS SYS_REFCURSOR);
END;
$$
ERROR HY000: Operator does not exist: 'CAST(expr AS sys_refcursor)'
BEGIN NOT ATOMIC
DECLARE a DECIMAL;
SELECT CAST(a AS SYS_REFCURSOR);
END;
$$
ERROR HY000: Operator does not exist: 'CAST(expr AS sys_refcursor)'
BEGIN NOT ATOMIC
DECLARE a CHAR(30);
SELECT CAST(a AS SYS_REFCURSOR);
END;
$$
ERROR HY000: Operator does not exist: 'CAST(expr AS sys_refcursor)'
BEGIN NOT ATOMIC
DECLARE a TIME;
SELECT CAST(a AS SYS_REFCURSOR);
END;
$$
ERROR HY000: Operator does not exist: 'CAST(expr AS sys_refcursor)'
BEGIN NOT ATOMIC
DECLARE a DATE;
SELECT CAST(a AS SYS_REFCURSOR);
END;
$$
ERROR HY000: Operator does not exist: 'CAST(expr AS sys_refcursor)'
BEGIN NOT ATOMIC
DECLARE a DATETIME;
SELECT CAST(a AS SYS_REFCURSOR);
END;
$$
ERROR HY000: Operator does not exist: 'CAST(expr AS sys_refcursor)'
