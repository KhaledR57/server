--disable_query_log
--disable_result_log
--source ../../t/test_init.inc
--enable_result_log
--enable_query_log
set spider_same_server_link= 1;
evalp CREATE SERVER srv FOREIGN DATA WRAPPER mysql
OPTIONS (SOCKET "$MASTER_1_MYSOCK", DATABASE 'test',user 'root');
create table t2 (
    `id` bigint(20) unsigned NOT NULL,
    `login` bigint(20) unsigned NOT NULL,
    `source` int(10) unsigned NOT NULL,
    PRIMARY KEY (`id`,`source`)
);
create table t1 (
    `id` bigint(20) unsigned NOT NULL,
    `login` bigint(20) unsigned NOT NULL,
    `source` int(10) unsigned NOT NULL,
    PRIMARY KEY (`id`,`source`)
) ENGINE=Spider
COMMENT='WRAPPER "mysql", srv "srv",TABLE "t2"';

INSERT INTO `t1`
(`id`, `login`, `source` )
VALUES
(1,12345,100),
(2,12345,100),
(3,12345,100);

SELECT `id`, `login`, `source` from `t1`;
SELECT -1 as x, `id`, `login`, `source` from `t1`;

drop table t1, t2;

drop server srv;
--disable_query_log
--disable_result_log
--source ../../t/test_deinit.inc
--enable_result_log
--enable_query_log
